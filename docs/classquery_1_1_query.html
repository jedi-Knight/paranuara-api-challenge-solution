<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paranuara API Challenge Solution: query.Query Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Paranuara API Challenge Solution
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacequery.html">query</a></li><li class="navelem"><a class="el" href="classquery_1_1_query.html">Query</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classquery_1_1_query-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">query.Query Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for query.Query:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classquery_1_1_query.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0a690b82b33527e9b2e82da0996d986a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquery_1_1_query.html#a0a690b82b33527e9b2e82da0996d986a">__init__</a> (self, <a class="el" href="classmodel_1_1_model.html">Model</a> model)</td></tr>
<tr class="separator:a0a690b82b33527e9b2e82da0996d986a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b257116df91b3591eee46d53b3558b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquery_1_1_query.html#a67b257116df91b3591eee46d53b3558b">single_column_value_match</a> (self, 'Name of the column to query' query_column, 'Value of a primitive type.' value, 'List containing names of the columns to filter the recordset return by.' return_columns)</td></tr>
<tr class="separator:a67b257116df91b3591eee46d53b3558b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6078745b65c9a09c4467de6e919248b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquery_1_1_query.html#ab6078745b65c9a09c4467de6e919248b">single_column_list_of_values_match</a> (self, query_column, values_list, return_columns)</td></tr>
<tr class="separator:ab6078745b65c9a09c4467de6e919248b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1808f30103ac29a20332a9ebde7aac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquery_1_1_query.html#ace1808f30103ac29a20332a9ebde7aac">multi_column_match</a> (self, return_columns, *col_val_tuple)</td></tr>
<tr class="separator:ace1808f30103ac29a20332a9ebde7aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1695751a7c2dffd26113b33a96a74b48"><td class="memItemLeft" align="right" valign="top"><a id="a1695751a7c2dffd26113b33a96a74b48"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>model</b> = None</td></tr>
<tr class="separator:a1695751a7c2dffd26113b33a96a74b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaaad67eb9c71af0ca045e088380f007"><td class="memItemLeft" align="right" valign="top"><a id="abaaad67eb9c71af0ca045e088380f007"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>query_builder</b> = None</td></tr>
<tr class="separator:abaaad67eb9c71af0ca045e088380f007"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This is a helper class to run queries on the Model object's in-memory table (`self.model.df`),
and to return the results as record sets, i.e. a list of dictionaries
of this format: 
```
[
    {
        'Column 1': 'Value at 1st row for column 1',
        'Column 2': 'Value at 1st row for column 2'
        ...and so on for `m` number of columns
    },
    {
        'Column 1': 'Value at 2nd row for column 1',
        'Column 2': 'Value at 2nd row for column 2'
        ...
    },
    .. and so on for for `n` number of row.
]
```
To build the specific queries, this class calls methods from a QueryBuilder object (`self.query_builder`).
The role of the QueryBuilder object is to build database specific queries.
While the role of the Query object is to pass query parameters to the QueryBuilder, 
run the query obtained from QueryBuilder on the Model object's database reference (`self.model.df`)
and return the query results in the above format.
In the current implementation the queries are specific to Pandas 
since the database is a Pandas dataframe referenced by `model.df`. 
Please refer to the Model class to learn mode about `model.df`. </pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0a690b82b33527e9b2e82da0996d986a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a690b82b33527e9b2e82da0996d986a">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.Query.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmodel_1_1_model.html">Model</a>&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Query object constructor.
Requires a Model object as a parameter (`model`). 
The Model object must have a Model.df field that refers to a Pandas Dataframe.
Please refer to the Model class to learn mode about `Model.df`.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ace1808f30103ac29a20332a9ebde7aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1808f30103ac29a20332a9ebde7aac">&#9670;&nbsp;</a></span>multi_column_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.Query.multi_column_match </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>col_val_tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Targets multiple columns, takes a either a single primitive or a list of primitive values and returns
a list contaning the dictionary records for the rows matching the sing/list-of values for the given columns. 
Only those columns are included in the dictionary record that are named in the query_columns list.

*col_val_tuple is in the following format: (column_name_1, value_1), (column_name_2, [value_1, value_2, ...])...
The second item in each tupe can either be a list of primitive type values, i.e. [value_1, value_2, ...], 
or single primitive type values, i.e. value_1 of type number, boolean or string.

Returns the selected records, i.e. list of dictionary records.
</pre> 
</div>
</div>
<a id="ab6078745b65c9a09c4467de6e919248b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6078745b65c9a09c4467de6e919248b">&#9670;&nbsp;</a></span>single_column_list_of_values_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.Query.single_column_list_of_values_match </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>query_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>values_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Targets one column, takes a list of values and returns
a list contaning the dictionary records for the rows matching the list of values for a given column. 
Only those columns are included in the dictionary record that are named in the query_columns list.
Returns the selected records, i.e. list of dictionary records.
</pre> 
</div>
</div>
<a id="a67b257116df91b3591eee46d53b3558b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b257116df91b3591eee46d53b3558b">&#9670;&nbsp;</a></span>single_column_value_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.Query.single_column_value_match </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'Name of the column to query'&#160;</td>
          <td class="paramname"><em>query_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'Value of a primitive type.'&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'List containing names of the columns to filter the recordset return by.'&#160;</td>
          <td class="paramname"><em>return_columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Targets one column, takes one value and returns a list containing 
one dictionar object matching the given value for a given column. 
Only those columns are included in the dictionary record that are named in the query_columns list.
Returns the selected records, i.e. list of dictionary records.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>query.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
